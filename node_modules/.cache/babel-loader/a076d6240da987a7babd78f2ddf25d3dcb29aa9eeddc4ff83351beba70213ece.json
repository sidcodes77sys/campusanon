{"ast":null,"code":"import _objectSpread from\"C:/Work/projects/campusanon/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useRef,useState}from'react';import{getMatches,getOrCreateConversation,getMessages,sendMessage,subscribeToMessages,isOnline}from'../lib/supabase';import{useAuth}from'../lib/AuthContext';import{styles,theme}from'./styles';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ChatPage(_ref){var _activeChatPartner$al;let{activeChatPartner,setActiveChatPartner}=_ref;const{profile}=useAuth();const[matches,setMatches]=useState([]);const[convId,setConvId]=useState(null);const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const bottomRef=useRef(null);const channelRef=useRef(null);// Load match list for sidebar\nuseEffect(()=>{if(profile)getMatches(profile.id).then(setMatches).catch(console.error);},[profile]);// When active partner changes, load/create conversation\nuseEffect(()=>{if(!profile||!activeChatPartner)return;loadConversation();},[activeChatPartner]);async function loadConversation(){setLoading(true);setMessages([]);try{const id=await getOrCreateConversation(profile.id,activeChatPartner.id);setConvId(id);const msgs=await getMessages(id);setMessages(msgs);// Unsubscribe from old channel\nif(channelRef.current){channelRef.current.unsubscribe();}// Subscribe to real-time new messages\nchannelRef.current=subscribeToMessages(id,newMsg=>{setMessages(prev=>[...prev,newMsg]);});}catch(e){console.error(e);}finally{setLoading(false);}}// Cleanup subscription on unmount\nuseEffect(()=>{return()=>{if(channelRef.current)channelRef.current.unsubscribe();};},[]);// Auto-scroll to bottom\nuseEffect(()=>{var _bottomRef$current;(_bottomRef$current=bottomRef.current)===null||_bottomRef$current===void 0?void 0:_bottomRef$current.scrollIntoView({behavior:'smooth'});},[messages]);async function handleSend(e){e.preventDefault();if(!input.trim()||!convId)return;const text=input.trim();setInput('');try{await sendMessage(convId,profile.id,text);// Real-time subscription will append it\n}catch(e){console.error(e);setInput(text);// restore on error\n}}return/*#__PURE__*/_jsxs(\"div\",{style:styles.chatLayout,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.chatList,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.chatListTitle,children:\"Messages\"}),matches.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,color:'#aaa',fontSize:13},children:\"No matches yet\"}),matches.map(m=>{var _m$alias;return/*#__PURE__*/_jsxs(\"div\",{style:(activeChatPartner===null||activeChatPartner===void 0?void 0:activeChatPartner.id)===m.id?_objectSpread(_objectSpread({},styles.chatListItem),styles.chatListItemActive):styles.chatListItem,onClick:()=>setActiveChatPartner(m),children:[/*#__PURE__*/_jsx(\"div\",{style:styles.chatListAvatar,children:(_m$alias=m.alias)===null||_m$alias===void 0?void 0:_m$alias[0]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.chatListName,children:m.alias}),/*#__PURE__*/_jsx(\"div\",{style:styles.chatListPreview,children:isOnline(m.last_seen)?'ðŸŸ¢ Online':'Say hello!'})]}),isOnline(m.last_seen)&&/*#__PURE__*/_jsx(\"div\",{style:styles.onlineDot})]},m.id);})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.chatWindow,children:activeChatPartner?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.chatHeader,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.chatHeaderAvatar,children:(_activeChatPartner$al=activeChatPartner.alias)===null||_activeChatPartner$al===void 0?void 0:_activeChatPartner$al[0]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.chatHeaderName,children:activeChatPartner.alias}),/*#__PURE__*/_jsx(\"div\",{style:styles.chatHeaderStatus,children:isOnline(activeChatPartner.last_seen)?'ðŸŸ¢ Online':'âš« Offline'})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'auto',color:'#e74c3c',fontSize:12},children:\"\\uD83D\\uDD12 Anonymous \\xB7 End-to-end\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.messagesArea,children:[loading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#aaa',padding:20},children:\"Loading messages...\"}),messages.map(msg=>{const isMe=msg.sender_id===profile.id;return/*#__PURE__*/_jsxs(\"div\",{style:isMe?styles.msgWrapMe:styles.msgWrapThem,children:[/*#__PURE__*/_jsx(\"div\",{style:isMe?styles.msgBubbleMe:styles.msgBubbleThem,children:msg.content}),/*#__PURE__*/_jsx(\"div\",{style:styles.msgTime,children:new Date(msg.created_at).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]},msg.id);}),/*#__PURE__*/_jsx(\"div\",{ref:bottomRef})]}),/*#__PURE__*/_jsxs(\"form\",{style:styles.chatInputRow,onSubmit:handleSend,children:[/*#__PURE__*/_jsx(\"input\",{style:styles.chatInput,placeholder:\"Type a message...\",value:input,onChange:e=>setInput(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{style:styles.sendBtn,type:\"submit\",disabled:!input.trim(),children:\"Send \\u27A4\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:48},children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Select a match to start chatting\"})]})})]});}","map":{"version":3,"names":["useEffect","useRef","useState","getMatches","getOrCreateConversation","getMessages","sendMessage","subscribeToMessages","isOnline","useAuth","styles","theme","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatPage","_ref","_activeChatPartner$al","activeChatPartner","setActiveChatPartner","profile","matches","setMatches","convId","setConvId","messages","setMessages","input","setInput","loading","setLoading","bottomRef","channelRef","id","then","catch","console","error","loadConversation","msgs","current","unsubscribe","newMsg","prev","e","_bottomRef$current","scrollIntoView","behavior","handleSend","preventDefault","trim","text","style","chatLayout","children","chatList","chatListTitle","length","padding","color","fontSize","map","m","_m$alias","_objectSpread","chatListItem","chatListItemActive","onClick","chatListAvatar","alias","flex","overflow","chatListName","chatListPreview","last_seen","onlineDot","chatWindow","chatHeader","chatHeaderAvatar","chatHeaderName","chatHeaderStatus","marginLeft","messagesArea","textAlign","msg","isMe","sender_id","msgWrapMe","msgWrapThem","msgBubbleMe","msgBubbleThem","content","msgTime","Date","created_at","toLocaleTimeString","hour","minute","ref","chatInputRow","onSubmit","chatInput","placeholder","value","onChange","target","sendBtn","type","disabled","emptyState"],"sources":["C:/Work/projects/campusanon/src/pages/ChatPage.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport {\n  getMatches, getOrCreateConversation, getMessages,\n  sendMessage, subscribeToMessages, isOnline\n} from '../lib/supabase';\nimport { useAuth } from '../lib/AuthContext';\nimport { styles, theme } from './styles';\n\nexport default function ChatPage({ activeChatPartner, setActiveChatPartner }) {\n  const { profile } = useAuth();\n  const [matches, setMatches] = useState([]);\n  const [convId, setConvId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const bottomRef = useRef(null);\n  const channelRef = useRef(null);\n\n  // Load match list for sidebar\n  useEffect(() => {\n    if (profile) getMatches(profile.id).then(setMatches).catch(console.error);\n  }, [profile]);\n\n  // When active partner changes, load/create conversation\n  useEffect(() => {\n    if (!profile || !activeChatPartner) return;\n    loadConversation();\n  }, [activeChatPartner]);\n\n  async function loadConversation() {\n    setLoading(true);\n    setMessages([]);\n    try {\n      const id = await getOrCreateConversation(profile.id, activeChatPartner.id);\n      setConvId(id);\n      const msgs = await getMessages(id);\n      setMessages(msgs);\n\n      // Unsubscribe from old channel\n      if (channelRef.current) {\n        channelRef.current.unsubscribe();\n      }\n\n      // Subscribe to real-time new messages\n      channelRef.current = subscribeToMessages(id, (newMsg) => {\n        setMessages(prev => [...prev, newMsg]);\n      });\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Cleanup subscription on unmount\n  useEffect(() => {\n    return () => { if (channelRef.current) channelRef.current.unsubscribe(); };\n  }, []);\n\n  // Auto-scroll to bottom\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  async function handleSend(e) {\n    e.preventDefault();\n    if (!input.trim() || !convId) return;\n    const text = input.trim();\n    setInput('');\n    try {\n      await sendMessage(convId, profile.id, text);\n      // Real-time subscription will append it\n    } catch (e) {\n      console.error(e);\n      setInput(text); // restore on error\n    }\n  }\n\n  return (\n    <div style={styles.chatLayout}>\n      {/* Conversation list */}\n      <div style={styles.chatList}>\n        <div style={styles.chatListTitle}>Messages</div>\n        {matches.length === 0 && (\n          <div style={{padding:16, color:'#aaa', fontSize:13}}>No matches yet</div>\n        )}\n        {matches.map(m => (\n          <div key={m.id}\n            style={activeChatPartner?.id === m.id ? {...styles.chatListItem, ...styles.chatListItemActive} : styles.chatListItem}\n            onClick={() => setActiveChatPartner(m)}>\n            <div style={styles.chatListAvatar}>{m.alias?.[0]}</div>\n            <div style={{flex:1, overflow:'hidden'}}>\n              <div style={styles.chatListName}>{m.alias}</div>\n              <div style={styles.chatListPreview}>{isOnline(m.last_seen) ? 'ðŸŸ¢ Online' : 'Say hello!'}</div>\n            </div>\n            {isOnline(m.last_seen) && <div style={styles.onlineDot} />}\n          </div>\n        ))}\n      </div>\n\n      {/* Chat window */}\n      <div style={styles.chatWindow}>\n        {activeChatPartner ? (\n          <>\n            <div style={styles.chatHeader}>\n              <div style={styles.chatHeaderAvatar}>{activeChatPartner.alias?.[0]}</div>\n              <div>\n                <div style={styles.chatHeaderName}>{activeChatPartner.alias}</div>\n                <div style={styles.chatHeaderStatus}>\n                  {isOnline(activeChatPartner.last_seen) ? 'ðŸŸ¢ Online' : 'âš« Offline'}\n                </div>\n              </div>\n              <div style={{marginLeft:'auto', color:'#e74c3c', fontSize:12}}>\n                ðŸ”’ Anonymous Â· End-to-end\n              </div>\n            </div>\n\n            <div style={styles.messagesArea}>\n              {loading && <div style={{textAlign:'center', color:'#aaa', padding:20}}>Loading messages...</div>}\n              {messages.map((msg) => {\n                const isMe = msg.sender_id === profile.id;\n                return (\n                  <div key={msg.id} style={isMe ? styles.msgWrapMe : styles.msgWrapThem}>\n                    <div style={isMe ? styles.msgBubbleMe : styles.msgBubbleThem}>\n                      {msg.content}\n                    </div>\n                    <div style={styles.msgTime}>\n                      {new Date(msg.created_at).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}\n                    </div>\n                  </div>\n                );\n              })}\n              <div ref={bottomRef} />\n            </div>\n\n            <form style={styles.chatInputRow} onSubmit={handleSend}>\n              <input\n                style={styles.chatInput}\n                placeholder=\"Type a message...\"\n                value={input}\n                onChange={e => setInput(e.target.value)}\n              />\n              <button style={styles.sendBtn} type=\"submit\" disabled={!input.trim()}>\n                Send âž¤\n              </button>\n            </form>\n          </>\n        ) : (\n          <div style={styles.emptyState}>\n            <div style={{fontSize:48}}>ðŸ’¬</div>\n            <p>Select a match to start chatting</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}