{"ast":null,"code":"import{createClient}from'@supabase/supabase-js';const supabaseUrl=process.env.REACT_APP_SUPABASE_URL;const supabaseAnonKey=process.env.REACT_APP_SUPABASE_ANON_KEY;export const supabase=createClient(supabaseUrl,supabaseAnonKey);export const COLLEGE_DOMAIN=process.env.REACT_APP_COLLEGE_DOMAIN||'college.edu';// ─── Auth ─────────────────────────────────────────────────────────────────────\nexport async function signUp(_ref){let{email,password,gender,lookingFor,age}=_ref;// 1. Create auth user (triggers email verification)\nconst{data,error}=await supabase.auth.signUp({email,password,options:{emailRedirectTo:window.location.origin,data:{gender,looking_for:lookingFor,age}}});if(error)throw error;// 2. Insert profile row (will be created after email verification too via trigger)\nif(data.user){await supabase.from('profiles').upsert({id:data.user.id,email,gender,looking_for:lookingFor,age,alias:generateAlias(),interests:[],bio:''});}return data;}export async function signIn(_ref2){let{email,password}=_ref2;const{data,error}=await supabase.auth.signInWithPassword({email,password});if(error)throw error;return data;}export async function signOut(){const{error}=await supabase.auth.signOut();if(error)throw error;}export async function getSession(){const{data:{session}}=await supabase.auth.getSession();return session;}// ─── Profile ──────────────────────────────────────────────────────────────────\nexport async function getProfile(userId){const{data,error}=await supabase.from('profiles').select('*').eq('id',userId).single();if(error)throw error;return data;}export async function updateProfile(userId,updates){const{data,error}=await supabase.from('profiles').update(updates).eq('id',userId).select().single();if(error)throw error;return data;}// ─── Discovery ────────────────────────────────────────────────────────────────\nexport async function getDiscoverProfiles(currentUser){// Get IDs already liked/passed by this user\nconst{data:seen}=await supabase.from('likes').select('target_id').eq('user_id',currentUser.id);const seenIds=(seen||[]).map(r=>r.target_id);seenIds.push(currentUser.id);// exclude self\n// Determine which genders to show based on looking_for\nlet genderFilter;if(currentUser.looking_for==='any'){genderFilter=['male','female','nonbinary'];}else{genderFilter=[currentUser.looking_for];}let query=supabase.from('profiles').select('id, alias, gender, age, interests, bio, last_seen').in('gender',genderFilter).limit(20);if(seenIds.length>0){query=query.not('id','in',\"(\".concat(seenIds.join(','),\")\"));}const{data,error}=await query;if(error)throw error;return data||[];}// ─── Likes & Matching ─────────────────────────────────────────────────────────\nexport async function likeProfile(userId,targetId){// Record the like\nconst{error:likeError}=await supabase.from('likes').insert({user_id:userId,target_id:targetId});if(likeError)throw likeError;// Check if target also liked us → mutual match\nconst{data:mutual}=await supabase.from('likes').select('id').eq('user_id',targetId).eq('target_id',userId).single();if(mutual){// Create match (insert both directions for easy querying)\nawait supabase.from('matches').insert([{user_id:userId,matched_user_id:targetId},{user_id:targetId,matched_user_id:userId}]);return{matched:true};}return{matched:false};}export async function passProfile(userId,targetId){await supabase.from('likes').insert({user_id:userId,target_id:targetId,is_pass:true});}export async function getMatches(userId){const{data,error}=await supabase.from('matches').select(\"\\n      matched_user_id,\\n      profiles:matched_user_id (id, alias, gender, age, interests, bio, last_seen)\\n    \").eq('user_id',userId);if(error)throw error;return(data||[]).map(r=>r.profiles);}// ─── Chat ─────────────────────────────────────────────────────────────────────\nexport async function getOrCreateConversation(userA,userB){// Consistent ordering so we don't duplicate\nconst[u1,u2]=[userA,userB].sort();const{data:existing}=await supabase.from('conversations').select('id').eq('user_a',u1).eq('user_b',u2).single();if(existing)return existing.id;const{data:created,error}=await supabase.from('conversations').insert({user_a:u1,user_b:u2}).select('id').single();if(error)throw error;return created.id;}export async function getMessages(conversationId){const{data,error}=await supabase.from('messages').select('id, sender_id, content, created_at').eq('conversation_id',conversationId).order('created_at',{ascending:true});if(error)throw error;return data||[];}export async function sendMessage(conversationId,senderId,content){const{data,error}=await supabase.from('messages').insert({conversation_id:conversationId,sender_id:senderId,content}).select().single();if(error)throw error;return data;}export function subscribeToMessages(conversationId,callback){return supabase.channel(\"messages:\".concat(conversationId)).on('postgres_changes',{event:'INSERT',schema:'public',table:'messages',filter:\"conversation_id=eq.\".concat(conversationId)},payload=>callback(payload.new)).subscribe();}export async function getConversations(userId){const{data,error}=await supabase.from('conversations').select(\"\\n      id,\\n      user_a,\\n      user_b,\\n      updated_at,\\n      messages(content, created_at, sender_id)\\n    \").or(\"user_a.eq.\".concat(userId,\",user_b.eq.\").concat(userId)).order('updated_at',{ascending:false});if(error)throw error;return data||[];}// ─── Presence / Online Status ─────────────────────────────────────────────────\nexport async function updateLastSeen(userId){await supabase.from('profiles').update({last_seen:new Date().toISOString()}).eq('id',userId);}export function isOnline(lastSeen){if(!lastSeen)return false;return Date.now()-new Date(lastSeen).getTime()<5*60*1000;// 5 min window\n}// ─── Utils ────────────────────────────────────────────────────────────────────\nexport function generateAlias(){const words=['Comet','Blaze','Frost','Storm','Ember','Drift','Sage','Echo','Flux','Gale','Prism','Zenith','Nova','Lyric','Crest'];return words[Math.floor(Math.random()*words.length)]+'_'+Math.floor(Math.random()*90+10);}","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","COLLEGE_DOMAIN","REACT_APP_COLLEGE_DOMAIN","signUp","_ref","email","password","gender","lookingFor","age","data","error","auth","options","emailRedirectTo","window","location","origin","looking_for","user","from","upsert","id","alias","generateAlias","interests","bio","signIn","_ref2","signInWithPassword","signOut","getSession","session","getProfile","userId","select","eq","single","updateProfile","updates","update","getDiscoverProfiles","currentUser","seen","seenIds","map","r","target_id","push","genderFilter","query","in","limit","length","not","concat","join","likeProfile","targetId","likeError","insert","user_id","mutual","matched_user_id","matched","passProfile","is_pass","getMatches","profiles","getOrCreateConversation","userA","userB","u1","u2","sort","existing","created","user_a","user_b","getMessages","conversationId","order","ascending","sendMessage","senderId","content","conversation_id","sender_id","subscribeToMessages","callback","channel","on","event","schema","table","filter","payload","new","subscribe","getConversations","or","updateLastSeen","last_seen","Date","toISOString","isOnline","lastSeen","now","getTime","words","Math","floor","random"],"sources":["C:/Work/projects/campusanon/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport const COLLEGE_DOMAIN = process.env.REACT_APP_COLLEGE_DOMAIN || 'college.edu';\n\n// ─── Auth ─────────────────────────────────────────────────────────────────────\n\nexport async function signUp({ email, password, gender, lookingFor, age }) {\n  // 1. Create auth user (triggers email verification)\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: window.location.origin,\n      data: { gender, looking_for: lookingFor, age },\n    },\n  });\n  if (error) throw error;\n\n  // 2. Insert profile row (will be created after email verification too via trigger)\n  if (data.user) {\n    await supabase.from('profiles').upsert({\n      id: data.user.id,\n      email,\n      gender,\n      looking_for: lookingFor,\n      age,\n      alias: generateAlias(),\n      interests: [],\n      bio: '',\n    });\n  }\n\n  return data;\n}\n\nexport async function signIn({ email, password }) {\n  const { data, error } = await supabase.auth.signInWithPassword({ email, password });\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getSession() {\n  const { data: { session } } = await supabase.auth.getSession();\n  return session;\n}\n\n// ─── Profile ──────────────────────────────────────────────────────────────────\n\nexport async function getProfile(userId) {\n  const { data, error } = await supabase\n    .from('profiles')\n    .select('*')\n    .eq('id', userId)\n    .single();\n  if (error) throw error;\n  return data;\n}\n\nexport async function updateProfile(userId, updates) {\n  const { data, error } = await supabase\n    .from('profiles')\n    .update(updates)\n    .eq('id', userId)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n}\n\n// ─── Discovery ────────────────────────────────────────────────────────────────\n\nexport async function getDiscoverProfiles(currentUser) {\n  // Get IDs already liked/passed by this user\n  const { data: seen } = await supabase\n    .from('likes')\n    .select('target_id')\n    .eq('user_id', currentUser.id);\n\n  const seenIds = (seen || []).map(r => r.target_id);\n  seenIds.push(currentUser.id); // exclude self\n\n  // Determine which genders to show based on looking_for\n  let genderFilter;\n  if (currentUser.looking_for === 'any') {\n    genderFilter = ['male', 'female', 'nonbinary'];\n  } else {\n    genderFilter = [currentUser.looking_for];\n  }\n\n  let query = supabase\n    .from('profiles')\n    .select('id, alias, gender, age, interests, bio, last_seen')\n    .in('gender', genderFilter)\n    .limit(20);\n\n  if (seenIds.length > 0) {\n    query = query.not('id', 'in', `(${seenIds.join(',')})`);\n  }\n\n  const { data, error } = await query;\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Likes & Matching ─────────────────────────────────────────────────────────\n\nexport async function likeProfile(userId, targetId) {\n  // Record the like\n  const { error: likeError } = await supabase\n    .from('likes')\n    .insert({ user_id: userId, target_id: targetId });\n  if (likeError) throw likeError;\n\n  // Check if target also liked us → mutual match\n  const { data: mutual } = await supabase\n    .from('likes')\n    .select('id')\n    .eq('user_id', targetId)\n    .eq('target_id', userId)\n    .single();\n\n  if (mutual) {\n    // Create match (insert both directions for easy querying)\n    await supabase.from('matches').insert([\n      { user_id: userId, matched_user_id: targetId },\n      { user_id: targetId, matched_user_id: userId },\n    ]);\n    return { matched: true };\n  }\n  return { matched: false };\n}\n\nexport async function passProfile(userId, targetId) {\n  await supabase.from('likes').insert({ user_id: userId, target_id: targetId, is_pass: true });\n}\n\nexport async function getMatches(userId) {\n  const { data, error } = await supabase\n    .from('matches')\n    .select(`\n      matched_user_id,\n      profiles:matched_user_id (id, alias, gender, age, interests, bio, last_seen)\n    `)\n    .eq('user_id', userId);\n  if (error) throw error;\n  return (data || []).map(r => r.profiles);\n}\n\n// ─── Chat ─────────────────────────────────────────────────────────────────────\n\nexport async function getOrCreateConversation(userA, userB) {\n  // Consistent ordering so we don't duplicate\n  const [u1, u2] = [userA, userB].sort();\n\n  const { data: existing } = await supabase\n    .from('conversations')\n    .select('id')\n    .eq('user_a', u1)\n    .eq('user_b', u2)\n    .single();\n\n  if (existing) return existing.id;\n\n  const { data: created, error } = await supabase\n    .from('conversations')\n    .insert({ user_a: u1, user_b: u2 })\n    .select('id')\n    .single();\n\n  if (error) throw error;\n  return created.id;\n}\n\nexport async function getMessages(conversationId) {\n  const { data, error } = await supabase\n    .from('messages')\n    .select('id, sender_id, content, created_at')\n    .eq('conversation_id', conversationId)\n    .order('created_at', { ascending: true });\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function sendMessage(conversationId, senderId, content) {\n  const { data, error } = await supabase\n    .from('messages')\n    .insert({ conversation_id: conversationId, sender_id: senderId, content })\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n}\n\nexport function subscribeToMessages(conversationId, callback) {\n  return supabase\n    .channel(`messages:${conversationId}`)\n    .on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'messages',\n      filter: `conversation_id=eq.${conversationId}`,\n    }, payload => callback(payload.new))\n    .subscribe();\n}\n\nexport async function getConversations(userId) {\n  const { data, error } = await supabase\n    .from('conversations')\n    .select(`\n      id,\n      user_a,\n      user_b,\n      updated_at,\n      messages(content, created_at, sender_id)\n    `)\n    .or(`user_a.eq.${userId},user_b.eq.${userId}`)\n    .order('updated_at', { ascending: false });\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Presence / Online Status ─────────────────────────────────────────────────\n\nexport async function updateLastSeen(userId) {\n  await supabase\n    .from('profiles')\n    .update({ last_seen: new Date().toISOString() })\n    .eq('id', userId);\n}\n\nexport function isOnline(lastSeen) {\n  if (!lastSeen) return false;\n  return (Date.now() - new Date(lastSeen).getTime()) < 5 * 60 * 1000; // 5 min window\n}\n\n// ─── Utils ────────────────────────────────────────────────────────────────────\n\nexport function generateAlias() {\n  const words = ['Comet','Blaze','Frost','Storm','Ember','Drift','Sage','Echo','Flux','Gale','Prism','Zenith','Nova','Lyric','Crest'];\n  return words[Math.floor(Math.random() * words.length)] + '_' + Math.floor(Math.random() * 90 + 10);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}