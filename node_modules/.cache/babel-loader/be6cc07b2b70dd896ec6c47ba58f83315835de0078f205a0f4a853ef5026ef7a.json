{"ast":null,"code":"import _objectSpread from\"C:/Work/projects/campusanon/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{signOut,updateProfile}from'../lib/supabase';import{useAuth}from'../lib/AuthContext';import{styles,theme}from'./styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SettingsPage(){const{profile,refreshProfile}=useAuth();const[notifications,setNotifications]=useState(true);const[showOnline,setShowOnline]=useState(true);const[ageMin,setAgeMin]=useState(18);const[ageMax,setAgeMax]=useState(25);const[loggingOut,setLoggingOut]=useState(false);async function handleLogout(){setLoggingOut(true);try{await signOut();}catch(e){console.error(e);}setLoggingOut(false);}async function handleDeleteAccount(){const confirmed=window.confirm('Are you sure? This cannot be undone. Your profile and matches will be permanently deleted.');if(!confirmed)return;try{// Mark as deleted ‚Äî real deletion would require a server-side function\nawait updateProfile(profile.id,{deleted:true});await signOut();}catch(e){console.error(e);}}return/*#__PURE__*/_jsxs(\"div\",{style:styles.page,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.pageTitle,children:\"Settings \\u2699\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.settingsCard,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.settingRow,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.settingLabel,children:\"Push Notifications\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.settingDesc,children:\"Get notified for new matches and messages\"})]}),/*#__PURE__*/_jsx(\"div\",{style:notifications?styles.toggleOn:styles.toggleOff,onClick:()=>setNotifications(!notifications),children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.toggleKnob),{},{right:notifications?3:'auto',left:notifications?'auto':3})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.settingRow,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.settingLabel,children:\"Show Online Status\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.settingDesc,children:\"Let matches see when you're active\"})]}),/*#__PURE__*/_jsx(\"div\",{style:showOnline?styles.toggleOn:styles.toggleOff,onClick:()=>setShowOnline(!showOnline),children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.toggleKnob),{},{right:showOnline?3:'auto',left:showOnline?'auto':3})})})]}),/*#__PURE__*/_jsx(\"hr\",{style:styles.sidebarDivider}),/*#__PURE__*/_jsx(\"div\",{style:styles.settingLabel,children:\"Age Range Preference\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,alignItems:'center',marginTop:8,marginBottom:16},children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:14},children:[\"Min:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",style:_objectSpread(_objectSpread({},styles.input),{},{width:64,margin:'0 0 0 6px',display:'inline-block',padding:'6px 8px'}),value:ageMin,min:18,max:ageMax,onChange:e=>setAgeMin(Number(e.target.value))})]}),/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:14},children:[\"Max:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",style:_objectSpread(_objectSpread({},styles.input),{},{width:64,margin:'0 0 0 6px',display:'inline-block',padding:'6px 8px'}),value:ageMax,min:ageMin,max:35,onChange:e=>setAgeMax(Number(e.target.value))})]})]}),/*#__PURE__*/_jsx(\"hr\",{style:styles.sidebarDivider}),/*#__PURE__*/_jsx(\"div\",{style:styles.settingLabel,children:\"Account\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#555',fontSize:13,marginBottom:12},children:profile===null||profile===void 0?void 0:profile.email}),/*#__PURE__*/_jsxs(\"button\",{style:_objectSpread(_objectSpread({},styles.secondaryBtn),{},{color:'#e74c3c',borderColor:'#e74c3c'}),onClick:handleLogout,disabled:loggingOut,children:[\"\\uD83D\\uDEAA \",loggingOut?'Logging out...':'Logout']}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},styles.secondaryBtn),{},{color:'#aaa',borderColor:'#ddd',marginTop:8}),onClick:handleDeleteAccount,children:\"\\uD83D\\uDDD1\\uFE0F Delete Account\"}),/*#__PURE__*/_jsx(\"hr\",{style:styles.sidebarDivider}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#bbb'},children:\"\\uD83D\\uDD12 Your identity is always protected. We never share your email or personal information.\"})]})]});}","map":{"version":3,"names":["useState","signOut","updateProfile","useAuth","styles","theme","jsx","_jsx","jsxs","_jsxs","SettingsPage","profile","refreshProfile","notifications","setNotifications","showOnline","setShowOnline","ageMin","setAgeMin","ageMax","setAgeMax","loggingOut","setLoggingOut","handleLogout","e","console","error","handleDeleteAccount","confirmed","window","confirm","id","deleted","style","page","children","pageTitle","settingsCard","settingRow","settingLabel","settingDesc","toggleOn","toggleOff","onClick","_objectSpread","toggleKnob","right","left","sidebarDivider","display","gap","alignItems","marginTop","marginBottom","fontSize","type","input","width","margin","padding","value","min","max","onChange","Number","target","color","email","secondaryBtn","borderColor","disabled"],"sources":["C:/Work/projects/campusanon/src/pages/SettingsPage.js"],"sourcesContent":["import { useState } from 'react';\nimport { signOut, updateProfile } from '../lib/supabase';\nimport { useAuth } from '../lib/AuthContext';\nimport { styles, theme } from './styles';\n\nexport default function SettingsPage() {\n  const { profile, refreshProfile } = useAuth();\n  const [notifications, setNotifications] = useState(true);\n  const [showOnline, setShowOnline] = useState(true);\n  const [ageMin, setAgeMin] = useState(18);\n  const [ageMax, setAgeMax] = useState(25);\n  const [loggingOut, setLoggingOut] = useState(false);\n\n  async function handleLogout() {\n    setLoggingOut(true);\n    try { await signOut(); } catch (e) { console.error(e); }\n    setLoggingOut(false);\n  }\n\n  async function handleDeleteAccount() {\n    const confirmed = window.confirm('Are you sure? This cannot be undone. Your profile and matches will be permanently deleted.');\n    if (!confirmed) return;\n    try {\n      // Mark as deleted ‚Äî real deletion would require a server-side function\n      await updateProfile(profile.id, { deleted: true });\n      await signOut();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return (\n    <div style={styles.page}>\n      <h2 style={styles.pageTitle}>Settings ‚öôÔ∏è</h2>\n      <div style={styles.settingsCard}>\n\n        <div style={styles.settingRow}>\n          <div>\n            <div style={styles.settingLabel}>Push Notifications</div>\n            <div style={styles.settingDesc}>Get notified for new matches and messages</div>\n          </div>\n          <div style={notifications ? styles.toggleOn : styles.toggleOff} onClick={() => setNotifications(!notifications)}>\n            <div style={{...styles.toggleKnob, right: notifications ? 3 : 'auto', left: notifications ? 'auto' : 3}} />\n          </div>\n        </div>\n\n        <div style={styles.settingRow}>\n          <div>\n            <div style={styles.settingLabel}>Show Online Status</div>\n            <div style={styles.settingDesc}>Let matches see when you're active</div>\n          </div>\n          <div style={showOnline ? styles.toggleOn : styles.toggleOff} onClick={() => setShowOnline(!showOnline)}>\n            <div style={{...styles.toggleKnob, right: showOnline ? 3 : 'auto', left: showOnline ? 'auto' : 3}} />\n          </div>\n        </div>\n\n        <hr style={styles.sidebarDivider} />\n\n        <div style={styles.settingLabel}>Age Range Preference</div>\n        <div style={{display:'flex', gap:12, alignItems:'center', marginTop:8, marginBottom:16}}>\n          <label style={{fontSize:14}}>Min:\n            <input type=\"number\" style={{...styles.input, width:64, margin:'0 0 0 6px', display:'inline-block', padding:'6px 8px'}}\n              value={ageMin} min={18} max={ageMax} onChange={e => setAgeMin(Number(e.target.value))} />\n          </label>\n          <label style={{fontSize:14}}>Max:\n            <input type=\"number\" style={{...styles.input, width:64, margin:'0 0 0 6px', display:'inline-block', padding:'6px 8px'}}\n              value={ageMax} min={ageMin} max={35} onChange={e => setAgeMax(Number(e.target.value))} />\n          </label>\n        </div>\n\n        <hr style={styles.sidebarDivider} />\n\n        <div style={styles.settingLabel}>Account</div>\n        <div style={{color:'#555', fontSize:13, marginBottom:12}}>{profile?.email}</div>\n\n        <button style={{...styles.secondaryBtn, color:'#e74c3c', borderColor:'#e74c3c'}} onClick={handleLogout} disabled={loggingOut}>\n          üö™ {loggingOut ? 'Logging out...' : 'Logout'}\n        </button>\n        <button style={{...styles.secondaryBtn, color:'#aaa', borderColor:'#ddd', marginTop:8}} onClick={handleDeleteAccount}>\n          üóëÔ∏è Delete Account\n        </button>\n\n        <hr style={styles.sidebarDivider} />\n        <div style={{fontSize:12, color:'#bbb'}}>\n          üîí Your identity is always protected. We never share your email or personal information.\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}