{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\nexport const COLLEGE_DOMAIN = process.env.REACT_APP_COLLEGE_DOMAIN || 'college.edu';\n\n// ─── Auth ─────────────────────────────────────────────────────────────────────\n\nexport async function signUp({\n  email,\n  password,\n  gender,\n  lookingFor,\n  age\n}) {\n  // 1. Create auth user (triggers email verification)\n  const {\n    data,\n    error\n  } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: window.location.origin,\n      data: {\n        gender,\n        looking_for: lookingFor,\n        age\n      }\n    }\n  });\n  if (error) throw error;\n\n  // 2. Insert profile row (will be created after email verification too via trigger)\n  if (data.user) {\n    await supabase.from('profiles').upsert({\n      id: data.user.id,\n      email,\n      gender,\n      looking_for: lookingFor,\n      age,\n      alias: generateAlias(),\n      interests: [],\n      bio: ''\n    });\n  }\n  return data;\n}\nexport async function signIn({\n  email,\n  password\n}) {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithPassword({\n    email,\n    password\n  });\n  if (error) throw error;\n  return data;\n}\nexport async function signOut() {\n  const {\n    error\n  } = await supabase.auth.signOut();\n  if (error) throw error;\n}\nexport async function getSession() {\n  const {\n    data: {\n      session\n    }\n  } = await supabase.auth.getSession();\n  return session;\n}\n\n// ─── Profile ──────────────────────────────────────────────────────────────────\n\nexport async function getProfile(userId) {\n  const {\n    data,\n    error\n  } = await supabase.from('profiles').select('*').eq('id', userId).single();\n  if (error) throw error;\n  return data;\n}\nexport async function updateProfile(userId, updates) {\n  const {\n    data,\n    error\n  } = await supabase.from('profiles').update(updates).eq('id', userId).select().single();\n  if (error) throw error;\n  return data;\n}\n\n// ─── Discovery ────────────────────────────────────────────────────────────────\n\nexport async function getDiscoverProfiles(currentUser) {\n  // Get IDs already liked/passed by this user\n  const {\n    data: seen\n  } = await supabase.from('likes').select('target_id').eq('user_id', currentUser.id);\n  const seenIds = (seen || []).map(r => r.target_id);\n  seenIds.push(currentUser.id); // exclude self\n\n  // Determine which genders to show based on looking_for\n  let genderFilter;\n  if (currentUser.looking_for === 'any') {\n    genderFilter = ['male', 'female', 'nonbinary'];\n  } else {\n    genderFilter = [currentUser.looking_for];\n  }\n  let query = supabase.from('profiles').select('id, alias, gender, age, interests, bio, last_seen').in('gender', genderFilter).limit(20);\n  if (seenIds.length > 0) {\n    query = query.not('id', 'in', `(${seenIds.join(',')})`);\n  }\n  const {\n    data,\n    error\n  } = await query;\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Likes & Matching ─────────────────────────────────────────────────────────\n\nexport async function likeProfile(userId, targetId) {\n  // Record the like\n  const {\n    error: likeError\n  } = await supabase.from('likes').insert({\n    user_id: userId,\n    target_id: targetId\n  });\n  if (likeError) throw likeError;\n\n  // Check if target also liked us → mutual match\n  const {\n    data: mutual\n  } = await supabase.from('likes').select('id').eq('user_id', targetId).eq('target_id', userId).single();\n  if (mutual) {\n    // Create match (insert both directions for easy querying)\n    await supabase.from('matches').insert([{\n      user_id: userId,\n      matched_user_id: targetId\n    }, {\n      user_id: targetId,\n      matched_user_id: userId\n    }]);\n    return {\n      matched: true\n    };\n  }\n  return {\n    matched: false\n  };\n}\nexport async function passProfile(userId, targetId) {\n  await supabase.from('likes').insert({\n    user_id: userId,\n    target_id: targetId,\n    is_pass: true\n  });\n}\nexport async function getMatches(userId) {\n  const {\n    data,\n    error\n  } = await supabase.from('matches').select(`\n      matched_user_id,\n      profiles:matched_user_id (id, alias, gender, age, interests, bio, last_seen)\n    `).eq('user_id', userId);\n  if (error) throw error;\n  return (data || []).map(r => r.profiles);\n}\n\n// ─── Chat ─────────────────────────────────────────────────────────────────────\n\nexport async function getOrCreateConversation(userA, userB) {\n  // Consistent ordering so we don't duplicate\n  const [u1, u2] = [userA, userB].sort();\n  const {\n    data: existing\n  } = await supabase.from('conversations').select('id').eq('user_a', u1).eq('user_b', u2).single();\n  if (existing) return existing.id;\n  const {\n    data: created,\n    error\n  } = await supabase.from('conversations').insert({\n    user_a: u1,\n    user_b: u2\n  }).select('id').single();\n  if (error) throw error;\n  return created.id;\n}\nexport async function getMessages(conversationId) {\n  const {\n    data,\n    error\n  } = await supabase.from('messages').select('id, sender_id, content, created_at').eq('conversation_id', conversationId).order('created_at', {\n    ascending: true\n  });\n  if (error) throw error;\n  return data || [];\n}\nexport async function sendMessage(conversationId, senderId, content) {\n  const {\n    data,\n    error\n  } = await supabase.from('messages').insert({\n    conversation_id: conversationId,\n    sender_id: senderId,\n    content\n  }).select().single();\n  if (error) throw error;\n  return data;\n}\nexport function subscribeToMessages(conversationId, callback) {\n  return supabase.channel(`messages:${conversationId}`).on('postgres_changes', {\n    event: 'INSERT',\n    schema: 'public',\n    table: 'messages',\n    filter: `conversation_id=eq.${conversationId}`\n  }, payload => callback(payload.new)).subscribe();\n}\nexport async function getConversations(userId) {\n  const {\n    data,\n    error\n  } = await supabase.from('conversations').select(`\n      id,\n      user_a,\n      user_b,\n      updated_at,\n      messages(content, created_at, sender_id)\n    `).or(`user_a.eq.${userId},user_b.eq.${userId}`).order('updated_at', {\n    ascending: false\n  });\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Presence / Online Status ─────────────────────────────────────────────────\n\nexport async function updateLastSeen(userId) {\n  await supabase.from('profiles').update({\n    last_seen: new Date().toISOString()\n  }).eq('id', userId);\n}\nexport function isOnline(lastSeen) {\n  if (!lastSeen) return false;\n  return Date.now() - new Date(lastSeen).getTime() < 5 * 60 * 1000; // 5 min window\n}\n\n// ─── Utils ────────────────────────────────────────────────────────────────────\n\nexport function generateAlias() {\n  const words = ['Comet', 'Blaze', 'Frost', 'Storm', 'Ember', 'Drift', 'Sage', 'Echo', 'Flux', 'Gale', 'Prism', 'Zenith', 'Nova', 'Lyric', 'Crest'];\n  return words[Math.floor(Math.random() * words.length)] + '_' + Math.floor(Math.random() * 90 + 10);\n}","map":{"version":3,"names":["createClient","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","COLLEGE_DOMAIN","REACT_APP_COLLEGE_DOMAIN","signUp","email","password","gender","lookingFor","age","data","error","auth","options","emailRedirectTo","window","location","origin","looking_for","user","from","upsert","id","alias","generateAlias","interests","bio","signIn","signInWithPassword","signOut","getSession","session","getProfile","userId","select","eq","single","updateProfile","updates","update","getDiscoverProfiles","currentUser","seen","seenIds","map","r","target_id","push","genderFilter","query","in","limit","length","not","join","likeProfile","targetId","likeError","insert","user_id","mutual","matched_user_id","matched","passProfile","is_pass","getMatches","profiles","getOrCreateConversation","userA","userB","u1","u2","sort","existing","created","user_a","user_b","getMessages","conversationId","order","ascending","sendMessage","senderId","content","conversation_id","sender_id","subscribeToMessages","callback","channel","on","event","schema","table","filter","payload","new","subscribe","getConversations","or","updateLastSeen","last_seen","Date","toISOString","isOnline","lastSeen","now","getTime","words","Math","floor","random"],"sources":["C:/Work/projects/campusanon/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport const COLLEGE_DOMAIN = process.env.REACT_APP_COLLEGE_DOMAIN || 'college.edu';\n\n// ─── Auth ─────────────────────────────────────────────────────────────────────\n\nexport async function signUp({ email, password, gender, lookingFor, age }) {\n  // 1. Create auth user (triggers email verification)\n  const { data, error } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      emailRedirectTo: window.location.origin,\n      data: { gender, looking_for: lookingFor, age },\n    },\n  });\n  if (error) throw error;\n\n  // 2. Insert profile row (will be created after email verification too via trigger)\n  if (data.user) {\n    await supabase.from('profiles').upsert({\n      id: data.user.id,\n      email,\n      gender,\n      looking_for: lookingFor,\n      age,\n      alias: generateAlias(),\n      interests: [],\n      bio: '',\n    });\n  }\n\n  return data;\n}\n\nexport async function signIn({ email, password }) {\n  const { data, error } = await supabase.auth.signInWithPassword({ email, password });\n  if (error) throw error;\n  return data;\n}\n\nexport async function signOut() {\n  const { error } = await supabase.auth.signOut();\n  if (error) throw error;\n}\n\nexport async function getSession() {\n  const { data: { session } } = await supabase.auth.getSession();\n  return session;\n}\n\n// ─── Profile ──────────────────────────────────────────────────────────────────\n\nexport async function getProfile(userId) {\n  const { data, error } = await supabase\n    .from('profiles')\n    .select('*')\n    .eq('id', userId)\n    .single();\n  if (error) throw error;\n  return data;\n}\n\nexport async function updateProfile(userId, updates) {\n  const { data, error } = await supabase\n    .from('profiles')\n    .update(updates)\n    .eq('id', userId)\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n}\n\n// ─── Discovery ────────────────────────────────────────────────────────────────\n\nexport async function getDiscoverProfiles(currentUser) {\n  // Get IDs already liked/passed by this user\n  const { data: seen } = await supabase\n    .from('likes')\n    .select('target_id')\n    .eq('user_id', currentUser.id);\n\n  const seenIds = (seen || []).map(r => r.target_id);\n  seenIds.push(currentUser.id); // exclude self\n\n  // Determine which genders to show based on looking_for\n  let genderFilter;\n  if (currentUser.looking_for === 'any') {\n    genderFilter = ['male', 'female', 'nonbinary'];\n  } else {\n    genderFilter = [currentUser.looking_for];\n  }\n\n  let query = supabase\n    .from('profiles')\n    .select('id, alias, gender, age, interests, bio, last_seen')\n    .in('gender', genderFilter)\n    .limit(20);\n\n  if (seenIds.length > 0) {\n    query = query.not('id', 'in', `(${seenIds.join(',')})`);\n  }\n\n  const { data, error } = await query;\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Likes & Matching ─────────────────────────────────────────────────────────\n\nexport async function likeProfile(userId, targetId) {\n  // Record the like\n  const { error: likeError } = await supabase\n    .from('likes')\n    .insert({ user_id: userId, target_id: targetId });\n  if (likeError) throw likeError;\n\n  // Check if target also liked us → mutual match\n  const { data: mutual } = await supabase\n    .from('likes')\n    .select('id')\n    .eq('user_id', targetId)\n    .eq('target_id', userId)\n    .single();\n\n  if (mutual) {\n    // Create match (insert both directions for easy querying)\n    await supabase.from('matches').insert([\n      { user_id: userId, matched_user_id: targetId },\n      { user_id: targetId, matched_user_id: userId },\n    ]);\n    return { matched: true };\n  }\n  return { matched: false };\n}\n\nexport async function passProfile(userId, targetId) {\n  await supabase.from('likes').insert({ user_id: userId, target_id: targetId, is_pass: true });\n}\n\nexport async function getMatches(userId) {\n  const { data, error } = await supabase\n    .from('matches')\n    .select(`\n      matched_user_id,\n      profiles:matched_user_id (id, alias, gender, age, interests, bio, last_seen)\n    `)\n    .eq('user_id', userId);\n  if (error) throw error;\n  return (data || []).map(r => r.profiles);\n}\n\n// ─── Chat ─────────────────────────────────────────────────────────────────────\n\nexport async function getOrCreateConversation(userA, userB) {\n  // Consistent ordering so we don't duplicate\n  const [u1, u2] = [userA, userB].sort();\n\n  const { data: existing } = await supabase\n    .from('conversations')\n    .select('id')\n    .eq('user_a', u1)\n    .eq('user_b', u2)\n    .single();\n\n  if (existing) return existing.id;\n\n  const { data: created, error } = await supabase\n    .from('conversations')\n    .insert({ user_a: u1, user_b: u2 })\n    .select('id')\n    .single();\n\n  if (error) throw error;\n  return created.id;\n}\n\nexport async function getMessages(conversationId) {\n  const { data, error } = await supabase\n    .from('messages')\n    .select('id, sender_id, content, created_at')\n    .eq('conversation_id', conversationId)\n    .order('created_at', { ascending: true });\n  if (error) throw error;\n  return data || [];\n}\n\nexport async function sendMessage(conversationId, senderId, content) {\n  const { data, error } = await supabase\n    .from('messages')\n    .insert({ conversation_id: conversationId, sender_id: senderId, content })\n    .select()\n    .single();\n  if (error) throw error;\n  return data;\n}\n\nexport function subscribeToMessages(conversationId, callback) {\n  return supabase\n    .channel(`messages:${conversationId}`)\n    .on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'messages',\n      filter: `conversation_id=eq.${conversationId}`,\n    }, payload => callback(payload.new))\n    .subscribe();\n}\n\nexport async function getConversations(userId) {\n  const { data, error } = await supabase\n    .from('conversations')\n    .select(`\n      id,\n      user_a,\n      user_b,\n      updated_at,\n      messages(content, created_at, sender_id)\n    `)\n    .or(`user_a.eq.${userId},user_b.eq.${userId}`)\n    .order('updated_at', { ascending: false });\n  if (error) throw error;\n  return data || [];\n}\n\n// ─── Presence / Online Status ─────────────────────────────────────────────────\n\nexport async function updateLastSeen(userId) {\n  await supabase\n    .from('profiles')\n    .update({ last_seen: new Date().toISOString() })\n    .eq('id', userId);\n}\n\nexport function isOnline(lastSeen) {\n  if (!lastSeen) return false;\n  return (Date.now() - new Date(lastSeen).getTime()) < 5 * 60 * 1000; // 5 min window\n}\n\n// ─── Utils ────────────────────────────────────────────────────────────────────\n\nexport function generateAlias() {\n  const words = ['Comet','Blaze','Frost','Storm','Ember','Drift','Sage','Echo','Flux','Gale','Prism','Zenith','Nova','Lyric','Crest'];\n  return words[Math.floor(Math.random() * words.length)] + '_' + Math.floor(Math.random() * 90 + 10);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}