{"ast":null,"code":"import{useEffect,useState}from'react';import{getMatches,isOnline}from'../lib/supabase';import{useAuth}from'../lib/AuthContext';import{styles,theme}from'./styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MatchesPage(_ref){let{setCurrentPage,setActiveChatPartner}=_ref;const{profile}=useAuth();const[matches,setMatches]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(profile)loadMatches();},[profile]);async function loadMatches(){setLoading(true);try{const data=await getMatches(profile.id);setMatches(data);}catch(e){console.error(e);}finally{setLoading(false);}}if(loading)return/*#__PURE__*/_jsx(\"div\",{style:styles.loadingWrap,children:\"Loading matches...\"});return/*#__PURE__*/_jsxs(\"div\",{style:styles.page,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.pageTitle,children:\"My Matches \\uD83D\\uDC9E\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.pageSubtitle,children:\"These people liked you back. Start a conversation!\"}),matches.length===0?/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyState,children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:48},children:\"\\uD83C\\uDF31\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No matches yet. Keep swiping!\"})]}):/*#__PURE__*/_jsx(\"div\",{style:styles.matchGrid,children:matches.map(m=>{var _m$alias;return/*#__PURE__*/_jsxs(\"div\",{style:styles.matchCard,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.matchAvatar,children:(_m$alias=m.alias)===null||_m$alias===void 0?void 0:_m$alias[0]}),/*#__PURE__*/_jsx(\"div\",{style:styles.matchAlias,children:m.alias}),/*#__PURE__*/_jsxs(\"div\",{style:styles.matchMeta,children:[\"Age \",m.age,\" \\xB7 \",isOnline(m.last_seen)?'ðŸŸ¢ Online':'âš« Offline']}),m.bio&&/*#__PURE__*/_jsx(\"p\",{style:{fontSize:12,color:'#777',margin:'6px 0'},children:m.bio}),/*#__PURE__*/_jsx(\"div\",{style:styles.interestRow,children:(m.interests||[]).map(i=>/*#__PURE__*/_jsx(\"span\",{style:styles.interestTagSm,children:i},i))}),/*#__PURE__*/_jsx(\"button\",{style:styles.primaryBtn,onClick:()=>{setActiveChatPartner(m);setCurrentPage('chat');},children:\"\\uD83D\\uDCAC Message\"})]},m.id);})})]});}","map":{"version":3,"names":["useEffect","useState","getMatches","isOnline","useAuth","styles","theme","jsx","_jsx","jsxs","_jsxs","MatchesPage","_ref","setCurrentPage","setActiveChatPartner","profile","matches","setMatches","loading","setLoading","loadMatches","data","id","e","console","error","style","loadingWrap","children","page","pageTitle","pageSubtitle","length","emptyState","fontSize","matchGrid","map","m","_m$alias","matchCard","matchAvatar","alias","matchAlias","matchMeta","age","last_seen","bio","color","margin","interestRow","interests","i","interestTagSm","primaryBtn","onClick"],"sources":["C:/Work/projects/campusanon/src/pages/MatchesPage.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getMatches, isOnline } from '../lib/supabase';\nimport { useAuth } from '../lib/AuthContext';\nimport { styles, theme } from './styles';\n\nexport default function MatchesPage({ setCurrentPage, setActiveChatPartner }) {\n  const { profile } = useAuth();\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (profile) loadMatches();\n  }, [profile]);\n\n  async function loadMatches() {\n    setLoading(true);\n    try {\n      const data = await getMatches(profile.id);\n      setMatches(data);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  if (loading) return <div style={styles.loadingWrap}>Loading matches...</div>;\n\n  return (\n    <div style={styles.page}>\n      <h2 style={styles.pageTitle}>My Matches ðŸ’ž</h2>\n      <p style={styles.pageSubtitle}>These people liked you back. Start a conversation!</p>\n      {matches.length === 0 ? (\n        <div style={styles.emptyState}>\n          <div style={{fontSize:48}}>ðŸŒ±</div>\n          <p>No matches yet. Keep swiping!</p>\n        </div>\n      ) : (\n        <div style={styles.matchGrid}>\n          {matches.map(m => (\n            <div key={m.id} style={styles.matchCard}>\n              <div style={styles.matchAvatar}>{m.alias?.[0]}</div>\n              <div style={styles.matchAlias}>{m.alias}</div>\n              <div style={styles.matchMeta}>\n                Age {m.age} Â· {isOnline(m.last_seen) ? 'ðŸŸ¢ Online' : 'âš« Offline'}\n              </div>\n              {m.bio && <p style={{fontSize:12, color:'#777', margin:'6px 0'}}>{m.bio}</p>}\n              <div style={styles.interestRow}>\n                {(m.interests || []).map(i => <span key={i} style={styles.interestTagSm}>{i}</span>)}\n              </div>\n              <button style={styles.primaryBtn} onClick={() => {\n                setActiveChatPartner(m);\n                setCurrentPage('chat');\n              }}>\n                ðŸ’¬ Message\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}